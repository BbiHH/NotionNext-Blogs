<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>色彩心理学 - ChromaticMind</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- 引入 Lucide 图标库 -->
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        /* 基础设置 */
        body, html { margin: 0; padding: 0; height: 100%; overflow: hidden; font-family: system-ui, -apple-system, sans-serif; }
        
        /* 1. 基础类定义 (Base) - 默认隐藏 */
        .scene-container { 
            position: absolute; 
            inset: 0; 
            display: flex; 
            align-items: center; 
            justify-content: center; 
            pointer-events: none; 
            opacity: 0; 
            transition: opacity 0.8s ease, transform 0.8s ease, filter 0.8s ease;
            transform: scale(0.95);
            filter: blur(10px);
        }

        /* 2. 状态类定义 (State) - 必须在基础类之后定义以覆盖样式 */
        .scene-active { 
            opacity: 1 !important; 
            pointer-events: auto; 
            transform: scale(1) !important; 
            filter: blur(0) !important;
        }

        /* 平滑过渡背景 */
        .transition-bg { transition: background-color 1s ease-in-out, color 1s ease-in-out; }

        /* 关键帧动画定义 */
        @keyframes spin { to { transform: rotate(360deg); } }
        @keyframes spin-reverse { to { transform: rotate(-360deg); } }
        @keyframes pulse-scale { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.15); } }
        @keyframes pulse-ring { 0% { transform: scale(1); opacity: 0.3; } 100% { transform: scale(1.3); opacity: 0; } }
        @keyframes float-blob { 
            0% { transform: translate(0, 0) rotate(0deg) scale(1); }
            33% { transform: translate(30px, -30px) rotate(120deg) scale(1.1); }
            66% { transform: translate(-20px, 20px) rotate(240deg) scale(0.9); }
            100% { transform: translate(0, 0) rotate(360deg) scale(1); }
        }
        @keyframes bounce-dots { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-20px); } }
        
        /* 动画工具类 */
        .animate-spin-slow { animation: spin 20s linear infinite; }
        .animate-spin-reverse { animation: spin-reverse 20s linear infinite; }
        .animate-pulse-heart { animation: pulse-scale 0.8s ease-in-out infinite; }

        /* 特殊形状 */
        .blob { border-radius: 40% 60% 70% 30% / 40% 50% 60% 50%; }
    </style>
</head>
<body id="app" class="bg-slate-50 transition-bg duration-1000 relative">

    <!-- 顶部 Logo -->
    <header class="absolute top-0 left-0 w-full p-8 z-50 flex justify-between items-start">
        <div class="flex flex-col">
            <h1 id="logo-text" class="text-2xl font-bold tracking-wider uppercase text-slate-800 transition-colors duration-1000">
                Chromatic<span class="font-light opacity-70">Mind</span>
            </h1>
            <span class="text-xs tracking-[0.3em] uppercase text-gray-400 mt-1">Interactive Psychology</span>
        </div>
        
        <!-- 场景指示器 -->
        <div class="flex space-x-2" id="indicators">
            <!-- 动态生成 -->
        </div>
    </header>

    <!-- 主视觉区域 -->
    <main class="w-full h-full relative flex items-center justify-center overflow-hidden">
        
        <!-- 1. Intro Scene -->
        <div id="scene-intro" class="scene-container scene-active">
            <div class="relative w-64 h-64 md:w-96 md:h-96">
                <div class="absolute inset-0 rounded-full border-4 border-slate-200/50 animate-spin-slow"></div>
                <div class="absolute inset-4 rounded-full border-[1px] border-slate-300/30 flex items-center justify-center animate-spin-reverse">
                    <div class="w-4 h-4 bg-slate-800 rounded-full relative">
                        <div class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[300px] h-[1px] bg-slate-800/10"></div>
                        <div class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 h-[300px] w-[1px] bg-slate-800/10"></div>
                    </div>
                </div>
                <!-- 粒子 -->
                <div class="absolute inset-0 animate-spin-slow" style="animation-duration: 15s;">
                    <div class="absolute top-0 left-1/2 w-3 h-3 bg-rose-500 rounded-full blur-[1px]"></div>
                    <div class="absolute bottom-0 left-1/2 w-3 h-3 bg-blue-500 rounded-full blur-[1px]"></div>
                    <div class="absolute left-0 top-1/2 w-3 h-3 bg-yellow-500 rounded-full blur-[1px]"></div>
                    <div class="absolute right-0 top-1/2 w-3 h-3 bg-emerald-500 rounded-full blur-[1px]"></div>
                </div>
            </div>
        </div>

        <!-- 2. Red Scene -->
        <div id="scene-red" class="scene-container">
            <div class="relative flex items-center justify-center">
                <!-- 波纹 -->
                <div class="absolute w-[400px] h-[400px] rounded-full border border-rose-300/30 bg-rose-200/10" style="animation: pulse-ring 2s infinite ease-out;"></div>
                <div class="absolute w-[400px] h-[400px] rounded-full border border-rose-300/30 bg-rose-200/10" style="animation: pulse-ring 2s infinite ease-out 0.6s;"></div>
                
                <!-- 核心 -->
                <div class="relative z-10 animate-pulse-heart">
                    <div class="w-64 h-64 bg-gradient-to-br from-rose-500 to-red-600 rounded-full shadow-2xl shadow-rose-500/50 flex items-center justify-center backdrop-blur-md">
                        <i data-lucide="heart" class="w-24 h-24 text-white fill-current"></i>
                    </div>
                </div>

                <!-- 尖刺能量 -->
                <div class="absolute inset-0 w-full h-full animate-spin-slow" style="animation-duration: 30s;">
                   <div class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-1 h-[500px] bg-gradient-to-t from-transparent via-rose-400/20 to-transparent rotate-0"></div>
                   <div class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-1 h-[500px] bg-gradient-to-t from-transparent via-rose-400/20 to-transparent rotate-45"></div>
                   <div class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-1 h-[500px] bg-gradient-to-t from-transparent via-rose-400/20 to-transparent rotate-90"></div>
                   <div class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-1 h-[500px] bg-gradient-to-t from-transparent via-rose-400/20 to-transparent rotate-135"></div>
                </div>
            </div>
        </div>

        <!-- 3. Blue Scene -->
        <div id="scene-blue" class="scene-container">
            <div class="relative w-full h-full flex items-center justify-center">
                <!-- 流体 -->
                <div class="absolute w-[500px] h-[500px] bg-gradient-to-r from-sky-300/30 to-blue-400/30 blur-2xl blob" style="animation: float-blob 15s infinite ease-in-out;"></div>
                <div class="absolute w-[450px] h-[450px] bg-gradient-to-r from-blue-300/30 to-indigo-400/30 blur-2xl blob" style="animation: float-blob 18s infinite ease-in-out reverse;"></div>

                <!-- 图标容器 -->
                <div class="z-10 w-48 h-48 bg-sky-100/50 backdrop-blur-xl rounded-3xl border border-white/50 flex items-center justify-center shadow-xl relative overflow-hidden">
                    <div class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-full h-full flex flex-col items-center justify-center gap-2 opacity-50">
                         <div class="w-32 h-1 bg-sky-500/20 rounded-full"></div>
                         <div class="w-24 h-1 bg-sky-500/20 rounded-full"></div>
                         <div class="w-28 h-1 bg-sky-500/20 rounded-full"></div>
                    </div>
                    <i data-lucide="wind" class="w-16 h-16 text-sky-600 relative z-10"></i>
                </div>
            </div>
        </div>

        <!-- 4. Yellow Scene -->
        <div id="scene-yellow" class="scene-container">
            <div class="relative flex items-center justify-center">
                <!-- 旋转光芒 (JS生成) -->
                <div class="absolute inset-0 flex items-center justify-center animate-spin-slow" style="width: 200vw; height: 200vw; z-index: 0;">
                    <div id="yellow-rays" class="w-full h-full relative"></div>
                </div>

                <!-- 核心 -->
                <div class="relative z-10 w-56 h-56 bg-amber-300 rounded-full flex items-center justify-center shadow-[0_0_60px_rgba(251,191,36,0.6)]">
                    <div class="w-48 h-48 bg-yellow-100 rounded-full flex items-center justify-center">
                        <i data-lucide="zap" class="w-20 h-20 text-amber-500 fill-current"></i>
                    </div>
                    <!-- 跳跃点 -->
                    <div class="absolute w-full h-full animate-spin-slow">
                        <div class="absolute top-0 left-1/2 -translate-x-1/2 -translate-y-8 w-4 h-4 bg-amber-500 rounded-full" style="animation: bounce-dots 1s infinite;"></div>
                        <div class="absolute bottom-0 left-1/2 -translate-x-1/2 translate-y-8 w-4 h-4 bg-amber-500 rounded-full" style="animation: bounce-dots 1s infinite 0.5s;"></div>
                    </div>
                </div>
            </div>
        </div>

        <!-- 5. Green Scene -->
        <div id="scene-green" class="scene-container">
            <div class="relative w-[600px] h-[600px] flex items-center justify-center">
                <!-- 同心圆 -->
                <div class="absolute inset-0 rounded-full border-2 border-emerald-500/20 animate-spin-slow">
                    <div class="absolute top-0 left-1/2 w-3 h-3 bg-emerald-500 rounded-full -translate-x-1/2 -translate-y-1/2"></div>
                </div>
                <div class="absolute inset-[15%] rounded-full border-2 border-emerald-500/20 animate-spin-reverse">
                    <div class="absolute bottom-0 left-1/2 w-3 h-3 bg-emerald-500 rounded-full -translate-x-1/2 translate-y-1/2"></div>
                </div>
                <div class="absolute inset-[30%] rounded-full border-2 border-emerald-500/20 animate-spin-slow" style="animation-duration: 15s;"></div>

                <!-- 核心 -->
                <div class="relative z-10 w-40 h-40 bg-gradient-to-tr from-emerald-600 to-green-400 rounded-[2rem] rounded-tr-none shadow-2xl flex items-center justify-center transform rotate-45 transition-all duration-1000 hover:scale-105">
                    <i data-lucide="coffee" class="w-16 h-16 text-white -rotate-45"></i>
                </div>
            </div>
        </div>

        <!-- 6. Outro Scene -->
        <div id="scene-outro" class="scene-container">
            <div class="relative flex items-center justify-center">
                <div class="grid grid-cols-2 gap-4 mix-blend-multiply opacity-80">
                    <div class="w-40 h-40 rounded-full bg-rose-400 blur-xl animate-pulse"></div>
                    <div class="w-40 h-40 rounded-full bg-sky-400 blur-xl animate-pulse" style="animation-delay: 0.5s;"></div>
                    <div class="w-40 h-40 rounded-full bg-amber-400 blur-xl animate-pulse" style="animation-delay: 1s;"></div>
                    <div class="w-40 h-40 rounded-full bg-emerald-400 blur-xl animate-pulse" style="animation-delay: 1.5s;"></div>
                </div>
                <div class="absolute bg-white/80 backdrop-blur-sm px-8 py-4 rounded-full shadow-lg border border-gray-100 animate-[bounce_3s_infinite]">
                    <i data-lucide="palette" class="w-12 h-12 text-gray-800"></i>
                </div>
            </div>
        </div>

    </main>

    <!-- 字幕与进度 -->
    <footer class="absolute bottom-0 left-0 w-full z-50 pb-12 pt-24 bg-gradient-to-t from-white/90 via-white/50 to-transparent">
        <div class="max-w-4xl mx-auto px-6 text-center transition-opacity duration-500" id="text-container">
            <h2 id="subtitle-en" class="text-xl md:text-3xl font-serif font-medium text-slate-800 transition-colors duration-1000 mb-4">
                <!-- English Text -->
            </h2>
            <p id="subtitle-cn" class="text-base md:text-lg text-gray-600 font-light tracking-wide leading-relaxed">
                <!-- Chinese Text -->
            </p>
        </div>

        <!-- 进度条 -->
        <div class="absolute bottom-0 left-0 w-full h-2 bg-gray-100">
            <div id="progress-bar" class="h-full bg-slate-800 w-0 transition-all duration-100 linear"></div>
        </div>
    </footer>

    <!-- 重播按钮 (结束时显示) -->
    <div id="replay-overlay" class="hidden absolute inset-0 z-[60] bg-white/40 backdrop-blur-sm flex items-center justify-center opacity-0 transition-opacity duration-1000">
        <button onclick="restart()" class="group flex flex-col items-center space-y-4 transition-transform hover:scale-105 cursor-pointer">
            <div class="w-20 h-20 bg-slate-900 rounded-full flex items-center justify-center shadow-2xl group-hover:bg-slate-800">
                <i data-lucide="refresh-ccw" class="w-8 h-8 text-white"></i>
            </div>
            <span class="text-slate-800 font-medium tracking-widest text-sm uppercase">Replay Experience</span>
        </button>
    </div>

    <!-- 全局氛围光效 -->
    <div class="absolute inset-0 pointer-events-none z-0 opacity-30">
        <div class="absolute top-[10%] left-[5%] w-64 h-64 bg-white rounded-full mix-blend-overlay blur-3xl animate-pulse"></div>
        <div class="absolute bottom-[20%] right-[10%] w-96 h-96 bg-white rounded-full mix-blend-overlay blur-3xl animate-pulse" style="animation-delay: 700ms;"></div>
    </div>

    <script>
        // 初始化图标
        lucide.createIcons();

        // --- 数据 ---
        const SCENES = [
            {
                id: 'intro',
                duration: 5000,
                bg: 'bg-slate-50',
                accentText: 'text-slate-800',
                accentBg: 'bg-slate-800',
                subtitles: {
                    en: "Color is not just a visual experience. It is a universal language that speaks directly to our emotions.",
                    cn: "色彩不仅仅是视觉体验，它是一种直接与我们情绪对话的通用语言。"
                }
            },
            {
                id: 'red',
                duration: 7000,
                bg: 'bg-rose-50',
                accentText: 'text-rose-600',
                accentBg: 'bg-rose-600',
                subtitles: {
                    en: "Red. The color of passion and urgency. It physically stimulates the body, raising blood pressure and heart rate.",
                    cn: "红色。激情与紧迫之色。它能生理性地刺激身体，提升血压与心率，通过视觉传递力量。"
                }
            },
            {
                id: 'blue',
                duration: 7000,
                bg: 'bg-sky-50',
                accentText: 'text-sky-700',
                accentBg: 'bg-sky-700',
                subtitles: {
                    en: "Blue represents intellect and calm. It is the color of trust, stability, and mental clarity, often used to lower stress.",
                    cn: "蓝色代表理智与冷静。它是信任、稳定和思维清晰的象征，常被用于降低焦虑与压力。"
                }
            },
            {
                id: 'yellow',
                duration: 7000,
                bg: 'bg-amber-50',
                accentText: 'text-amber-600',
                accentBg: 'bg-amber-600',
                subtitles: {
                    en: "Yellow is the strongest psychological color. It screams optimism and confidence, but too much can cause anxiety.",
                    cn: "黄色是心理感应最强的颜色。它高喊着乐观与自信，但过高的饱和度也可能引发焦虑感。"
                }
            },
            {
                id: 'green',
                duration: 7000,
                bg: 'bg-emerald-50',
                accentText: 'text-emerald-700',
                accentBg: 'bg-emerald-700',
                subtitles: {
                    en: "Green sits in the center of the spectrum. It is the color of balance, nature, and restoration.",
                    cn: "绿色位于光谱的中心。它是平衡、自然与修复的颜色，让我们的眼睛和心灵得以休憩。"
                }
            },
            {
                id: 'outro',
                duration: 6000,
                bg: 'bg-gray-100',
                accentText: 'text-gray-800',
                accentBg: 'bg-gray-800',
                subtitles: {
                    en: "By understanding color psychology, we can design not just what people see, but how they feel.",
                    cn: "通过理解色彩心理学，我们设计的不仅是人们看到的事物，更是他们感受到的情绪。"
                }
            }
        ];

        // --- 状态管理 ---
        let currentIndex = 0;
        let startTime = null;
        let isPlaying = true;
        let animationFrameId;

        // --- DOM 元素 ---
        const app = document.getElementById('app');
        const logoText = document.getElementById('logo-text');
        const indicatorsContainer = document.getElementById('indicators');
        const subtitleEn = document.getElementById('subtitle-en');
        const subtitleCn = document.getElementById('subtitle-cn');
        const progressBar = document.getElementById('progress-bar');
        const textContainer = document.getElementById('text-container');
        const replayOverlay = document.getElementById('replay-overlay');

        // --- 预处理 ---
        // 动态生成黄色光芒
        const raysContainer = document.getElementById('yellow-rays');
        for (let i = 0; i < 20; i++) {
            const ray = document.createElement('div');
            ray.className = 'absolute w-24 bg-gradient-to-b from-amber-200/10 to-transparent origin-center';
            ray.style.height = '120vh';
            ray.style.left = '50%';
            ray.style.top = '50%';
            ray.style.transform = `translate(-50%, -50%) rotate(${i * 18}deg)`;
            raysContainer.appendChild(ray);
        }

        // 初始化指示器
        SCENES.forEach((scene, idx) => {
            const dot = document.createElement('div');
            dot.id = `indicator-${idx}`;
            dot.className = 'h-1 rounded-full transition-all duration-500 w-2 bg-gray-300';
            indicatorsContainer.appendChild(dot);
        });

        // --- 核心逻辑 ---

        function updateSceneVisuals(index) {
            const scene = SCENES[index];
            
            // 1. 背景颜色
            app.className = `transition-bg duration-1000 w-full h-screen overflow-hidden font-sans flex flex-col relative ${scene.bg}`;
            
            // 2. Logo 颜色
            logoText.className = `text-2xl font-bold tracking-wider uppercase transition-colors duration-1000 ${scene.accentText}`;

            // 3. 切换主视觉 (Simplified Logic to avoid CSS conflicts)
            document.querySelectorAll('.scene-container').forEach((el, i) => {
                if (i === index) {
                    el.classList.add('scene-active');
                    // 重新创建图标以确保渲染
                    lucide.createIcons();
                } else {
                    el.classList.remove('scene-active');
                }
            });

            // 4. 字幕更新
            textContainer.style.opacity = 0;
            setTimeout(() => {
                subtitleEn.textContent = scene.subtitles.en;
                subtitleEn.className = `text-xl md:text-3xl font-serif font-medium transition-colors duration-1000 mb-4 ${scene.accentText}`;
                subtitleCn.textContent = scene.subtitles.cn;
                textContainer.style.opacity = 1;
            }, 500);

            // 5. 进度条颜色
            progressBar.className = `h-full transition-all duration-100 linear ${scene.accentBg}`;

            // 6. 指示器更新
            SCENES.forEach((s, i) => {
                const dot = document.getElementById(`indicator-${i}`);
                if (i === index) {
                    dot.className = `h-1 rounded-full transition-all duration-500 w-8 ${scene.accentBg}`;
                } else {
                    dot.className = 'h-1 rounded-full transition-all duration-500 w-2 bg-gray-300';
                }
            });
        }

        function loop() {
            if (!isPlaying) return;
            
            const now = Date.now();
            if (!startTime) startTime = now;
            
            const elapsed = now - startTime;
            const currentScene = SCENES[currentIndex];
            
            // 更新进度条宽度
            const progress = Math.min((elapsed / currentScene.duration) * 100, 100);
            progressBar.style.width = `${progress}%`;

            if (elapsed > currentScene.duration) {
                // 场景结束
                if (currentIndex < SCENES.length - 1) {
                    currentIndex++;
                    startTime = now;
                    updateSceneVisuals(currentIndex);
                } else {
                    // 播放结束
                    isPlaying = false;
                    showReplay();
                }
            }
            
            animationFrameId = requestAnimationFrame(loop);
        }

        function showReplay() {
            replayOverlay.classList.remove('hidden');
            // 触发重绘
            void replayOverlay.offsetWidth;
            replayOverlay.classList.remove('opacity-0');
        }

        function restart() {
            replayOverlay.classList.add('opacity-0');
            setTimeout(() => {
                replayOverlay.classList.add('hidden');
            }, 1000);
            
            currentIndex = 0;
            startTime = null;
            isPlaying = true;
            updateSceneVisuals(0);
            loop();
        }

        // 启动
        window.onload = () => {
            lucide.createIcons();
            updateSceneVisuals(0);
            loop();
        };

    </script>
</body>
</html>